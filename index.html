<!DOCTYPE html>
<html lang="fr">
<head>
  <meta charset="UTF-8">
  <title>Jeu des Emojis Population</title>
  <style>
    body { font-family: sans-serif; text-align: center; background: #f5f5f5; }
    #tv { font-size: 5rem; border: 4px solid #333; width: 150px; height: 150px; margin: 20px auto; display: flex; align-items: center; justify-content: center; background: white; }
    #grid { display: grid; grid-template-columns: repeat(6, 60px); grid-gap: 10px; justify-content: center; }
    .emoji { font-size: 2rem; cursor: pointer; }
  </style>
</head>
<body>
  <h1>Population Emoji</h1>
  <div id="tv">ğŸ“º</div>
  <div id="grid"></div>

  <script>
    // Emojis uniquement avec des Ã©motions
    const emojis = ["ğŸ˜€","ğŸ˜","ğŸ˜‚","ğŸ¤£","ğŸ˜…","ğŸ˜Š","ğŸ˜","ğŸ˜˜","ğŸ˜","ğŸ˜”","ğŸ˜­","ğŸ˜¡","ğŸ¤¯","ğŸ˜±","ğŸ˜´","ğŸ¤”","ğŸ˜‡","ğŸ¥¶","ğŸ¥µ","ğŸ¤¢","ğŸ¤ ","ğŸ¥³","ğŸ˜¤","ğŸ˜’","ğŸ˜¬","ğŸ¤","ğŸ¤“","ğŸ˜•","ğŸ¤¡","ğŸ¥º"];

    const grid = document.getElementById("grid");
    const tv = document.getElementById("tv");

    let population = [];

    // Initialiser la population
    function initPopulation() {
      population = [];
      grid.innerHTML = "";
      for (let i = 0; i < 30; i++) {
        const e = randomEmoji();
        population.push(e);
        addEmojiToGrid(e, i);
      }
    }

    // Ajouter un emoji cliquable dans la grille
    function addEmojiToGrid(e, index) {
      const span = document.createElement("span");
      span.className = "emoji";
      span.textContent = e;
      span.addEventListener("click", () => showOnTV(index));
      grid.appendChild(span);
    }

    // Choisir un emoji alÃ©atoire
    function randomEmoji() {
      return emojis[Math.floor(Math.random() * emojis.length)];
    }

    // Afficher un emoji sur la tÃ©lÃ©vision et appliquer effet
    function showOnTV(index) {
      const e = population[index];
      tv.textContent = e;
      applyEffect(e);
    }

    // Effets diffÃ©rents pour chaque emoji
    function applyEffect(e) {
      switch(e) {
        case "ğŸ˜­": // Les pleurs contaminent 5 voisins
          transformRandom(5, "ğŸ˜­");
          break;
        case "ğŸ˜": // Cool vibes : 50% deviennent ğŸ˜
          transformPercentage(0.5, "ğŸ˜");
          break;
        case "ğŸ˜€": // Bonne humeur : tout le monde devient ğŸ˜€
          transformAll("ğŸ˜€");
          break;
        case "ğŸ˜¡": // ColÃ¨re : 10 deviennent ğŸ˜¡
          transformRandom(10, "ğŸ˜¡");
          break;
        case "ğŸ¥³": // FÃªte : 30% deviennent ğŸ¥³
          transformPercentage(0.3, "ğŸ¥³");
          break;
        case "ğŸ˜´": // Sommeil : 20% deviennent ğŸ˜´
          transformPercentage(0.2, "ğŸ˜´");
          break;
        case "ğŸ¤”": // RÃ©flexion : 5 deviennent ğŸ¤”
          transformRandom(5, "ğŸ¤”");
          break;
        case "ğŸ˜±": // Panique : 40% deviennent ğŸ˜±
          transformPercentage(0.4, "ğŸ˜±");
          break;
        case "ğŸ˜": // Amour : 25% deviennent ğŸ˜
          transformPercentage(0.25, "ğŸ˜");
          break;
        case "ğŸ¤¯": // Explosion mentale : tout le monde devient diffÃ©rent alÃ©atoirement
          for (let i = 0; i < population.length; i++) {
            const newE = randomEmoji();
            population[i] = newE;
            grid.children[i].textContent = newE;
          }
          break;
        default:
          // Par dÃ©faut : transformer 3 au hasard en l'emoji choisi
          transformRandom(3, e);
      }
    }

    // Fonctions utilitaires pour transformer la population
    function transformRandom(n, emoji) {
      for (let i = 0; i < n; i++) {
        const idx = Math.floor(Math.random() * population.length);
        population[idx] = emoji;
        grid.children[idx].textContent = emoji;
      }
    }

    function transformAll(emoji) {
      for (let i = 0; i < population.length; i++) {
        population[i] = emoji;
        grid.children[i].textContent = emoji;
      }
    }

    function transformPercentage(p, emoji) {
      const n = Math.floor(population.length * p);
      transformRandom(n, emoji);
    }

    // Mutation alÃ©atoire toutes les 5 secondes
    function mutatePopulation() {
      const count = Math.floor(population.length * 0.2); // 20%
      for (let i = 0; i < count; i++) {
        const idx = Math.floor(Math.random() * population.length);
        const e = randomEmoji();
        population[idx] = e;
        grid.children[idx].textContent = e;
      }
    }

    // Lancer le jeu
    initPopulation();
    setInterval(mutatePopulation, 5000);
  </script>
</body>
</html>
