<!DOCTYPE html>
<html lang="fr">
<head>
  <meta charset="UTF-8">
  <title>Jeu des Emojis Population</title>
  <style>
    body { font-family: sans-serif; text-align: center; background: #f5f5f5; }
    #tv { font-size: 5rem; border: 4px solid #333; width: 150px; height: 150px; margin: 20px auto; display: flex; align-items: center; justify-content: center; background: white; }
    #grid { display: grid; grid-template-columns: repeat(6, 60px); grid-gap: 10px; justify-content: center; }
    .emoji { font-size: 2rem; cursor: pointer; }
  </style>
</head>
<body>
  <h1>Population Emoji</h1>
  <div id="tv">ğŸ“º</div>
  <div id="grid"></div>

  <script>
    const emojis = ["ğŸ˜€","ğŸ˜","ğŸ˜¡","ğŸ˜­","ğŸ¤–","ğŸ‘½","ğŸ˜º","ğŸ‘»","ğŸ¤¡","ğŸ‘©","ğŸ‘¨","ğŸ§™","ğŸ§›","ğŸ§Ÿ","ğŸ§š","ğŸ§œ","ğŸ§","ğŸ¦¸","ğŸ¦¹","ğŸ¶","ğŸ±","ğŸµ","ğŸ¸","ğŸ¼","ğŸ§","ğŸ¤","ğŸ¢","ğŸ™","ğŸ","ğŸ¦‹"];

    const grid = document.getElementById("grid");
    const tv = document.getElementById("tv");

    let population = [];

    // Initialiser la population
    function initPopulation() {
      population = [];
      grid.innerHTML = "";
      for (let i = 0; i < 30; i++) {
        const e = randomEmoji();
        population.push(e);
        addEmojiToGrid(e, i);
      }
    }

    // Ajouter un emoji cliquable dans la grille
    function addEmojiToGrid(e, index) {
      const span = document.createElement("span");
      span.className = "emoji";
      span.textContent = e;
      span.addEventListener("click", () => showOnTV(index));
      grid.appendChild(span);
    }

    // Choisir un emoji alÃ©atoire
    function randomEmoji() {
      return emojis[Math.floor(Math.random() * emojis.length)];
    }

    // Afficher un emoji sur la tÃ©lÃ©vision et appliquer effet
    function showOnTV(index) {
      const e = population[index];
      tv.textContent = e;
      applyEffect(e);
    }

    // Exemple d'effets selon l'emoji choisi
    function applyEffect(e) {
      if (e === "ğŸ¤–") {
        // Les robots remplacent 5 emojis alÃ©atoires
        for (let i = 0; i < 5; i++) {
          const idx = Math.floor(Math.random() * population.length);
          population[idx] = "ğŸ¤–";
          grid.children[idx].textContent = "ğŸ¤–";
        }
      } else if (e === "ğŸ˜­") {
        // Les pleurs contaminent : transformer 3 voisins en ğŸ˜­
        for (let i = 0; i < 3; i++) {
          const idx = Math.floor(Math.random() * population.length);
          population[idx] = "ğŸ˜­";
          grid.children[idx].textContent = "ğŸ˜­";
        }
      } else if (e === "ğŸ˜") {
        // Cool vibes : tout le monde devient ğŸ˜
        for (let i = 0; i < population.length; i++) {
          population[i] = "ğŸ˜";
          grid.children[i].textContent = "ğŸ˜";
        }
      }
    }

    // Mutation alÃ©atoire toutes les 5 secondes
    function mutatePopulation() {
      const count = Math.floor(population.length * 0.2); // 20%
      for (let i = 0; i < count; i++) {
        const idx = Math.floor(Math.random() * population.length);
        const e = randomEmoji();
        population[idx] = e;
        grid.children[idx].textContent = e;
      }
    }

    // Lancer le jeu
    initPopulation();
    setInterval(mutatePopulation, 5000);
  </script>
</body>
</html>
